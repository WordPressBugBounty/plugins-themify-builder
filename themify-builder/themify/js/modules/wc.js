(($,e,o,t,c,i,a)=>{"use strict";let r=!1,n=!1,l=o.querySelector("form.variations_form select"),s=[];const _=$(o.body),f=c.wc_version,m=c.wc_js["wc-add-to-cart-variation"],d=c.wc_js.wc_additional_variation_images_script,p=o.tfClass("woocommerce-ordering"),w=function(){this.closest("form").submit()},u=o.querySelectorAll("input.qty[min]"),g=e=>!e.includes("ver=",12)&&f,v=async o=>{if(c.photoswipe){o.preventDefault(),o.stopImmediatePropagation();const t=o.currentTarget;await Promise.all([e.loadCss(c.photoswipe.main,null,f),e.loadCss(c.photoswipe.skin,null,f)]),i((()=>{t.click()}),5)}},y=async(r,f,u,v)=>{const y=c.wc_js,j=r&&!0!==r,k=o=>{if(delete y[o],0===Object.keys(y).length){_.off("click.tf_wc_click").off("added_to_cart removed_from_cart",h);for(let e=0;e<p.length;++e)p[e].tfOff("change",w,{passive:!0,once:!0});i((()=>{if(r&&!0!==r&&"load"!==r)if("click"===r.type)for(let e=0;e<s.length;++e)s[e].isConnected&&s[e].click();else _.triggerHandler(r.type,[f,u,v]);s=null,e.trigger("tf_wc_js_load")}),5)}},b=async()=>{y.woocommerce&&await e.loadJs(y.woocommerce,$.scroll_to_notices!==a,g(y.woocommerce)),k("woocommerce")},x=async()=>{const i=o.tfClass("variations_form");if(i[0]||o.tfClass("wcpa_form_outer").length>0){if(d&&e.loadJs(d,$.wc_additional_variation_images_frontend!==a,g(d)),await e.loadJs(e.includesURL+"js/underscore.min",a!==t._,c.wp),await Promise.all([e.loadJs(e.includesURL+"js/wp-util.min",t.wp?.template!==a,c.wp),e.loadJs(m,$.fn.wc_variation_form!==a,g(m))]),!o.tfId("tm-extra-product-options"))for(let e=i.length-1;e>-1;--e)$(i[e]).wc_variation_form();l&&n&&e.triggerEvent(l,"change"),l=n=null}};!0===j&&(y["jquery-blockui"]&&e.loadJs(y["jquery-blockui"],$.blockUI===a,g(y["jquery-blockui"])).then((()=>{k("jquery-blockui")})),y["wc-add-to-cart"]?e.loadJs(y["wc-add-to-cart"],c.wc_js_normal!==a,g(y["wc-add-to-cart"])).then((()=>{k("wc-add-to-cart"),x()})):x(),y["wc-single-product"]&&!$.fn.wc_product_gallery&&"undefined"!=typeof wc_single_product_params?e.loadJs(y["wc-single-product"],$.fn.wc_product_gallery!==a,g(y["wc-single-product"])).then((()=>{k("wc-single-product"),e.trigger("tf_init_photoswipe")})):delete y["wc-single-product"]),y["js-cookie"]?(await e.loadJs(y["js-cookie"],!!t.Cookies,g(y["js-cookie"])),y["wc-cart-fragments"]&&await e.loadJs(y["wc-cart-fragments"],c.wc_js_normal!==a,g(y["wc-cart-fragments"])),k("js-cookie"),k("wc-cart-fragments"),!0===j&&b()):b()},h=(e,o,t,c)=>{!1===r&&(r=!0,y(e,o,t,$(c)))};if(_.one("added_to_cart removed_from_cart",h).on("click.tf_wc_click",".ajax_add_to_cart,.remove_from_cart_button",(e=>{e.preventDefault(),e.stopImmediatePropagation(),e.target.classList.contains("loading")||(s.push(e.target),e.target.classList.add("loading")),!1===r&&(r=!0,y(e))})),null!==l){const o=e=>{n||(t.tfOff("scroll pointermove",o,{once:!0,passive:!0}),l?.tfOff("change",o,{once:!0,passive:!0}),"change"===e?.type&&l&&e.stopImmediatePropagation(),!1===r&&(r=n=!0,y("load")))};t.tfOn("scroll pointermove",o,{once:!0,passive:!0}),l.tfOn("change",o,{once:!0,passive:!0}),i((()=>{e.requestIdleCallback(o,800)}),700)}for(let e=0;e<p.length;++e)p[e].tfOn("change",w,{passive:!0,once:!0});for(let e=u.length-1;e>-1;--e){let o=parseFloat(u[e].min);o>=0&&parseFloat(u[e].value)<o&&(u[e].value=o)}delete c.wc_js["wc-add-to-cart-variation"],delete c.wc_js.wc_additional_variation_images_script,e.on("tf_wc_init",(t=>{!0===t||null!==o.querySelector(".woocommerce-input-wrapper,.woocommerce-store-notice")?y("load"):y(!0),(async()=>{const t=o.tfClass("tf_wc_accordion")[0];t&&(await e.loadJs("wc-accordion-tabs"),e.trigger("tf_wc_acc_tabs_init",[t]))})(),e.trigger("tf_init_photoswipe")})).on("tf_init_photoswipe",(c=>{const r=t.wc_single_product_params;if($.fn.wc_product_gallery&&r!==a)if(r.photoswipe_enabled)for(let t=(c=c||o).tfClass("woocommerce-product-gallery"),n=t.length-1;n>-1;--n){let o=$(t[n]),c=t[n].tfClass("woocommerce-product-gallery__trigger")[0];if(!o.data("product_gallery")){o.wc_product_gallery(r);let e=o.data("flexslider");e&&i((()=>{e.resize()}),100)}c?.tfOn(e.click,v,{once:!0});let l=t[n].tfClass("woocommerce-product-gallery__image");$.fn.flexslider!==a&&r.flexslider_enabled&&l.length>1||1!==l.length||l[0].tfTag("a")[0]?.tfOn(e.click,v,{once:!0})}else e.off("tf_init_photoswipe")})).trigger("tf_init_photoswipe")})(jQuery,Themify,document,window,themify_vars,setTimeout,void 0);
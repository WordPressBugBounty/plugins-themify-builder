((t,e,a,l)=>{"use strict";let o,s,i=0,r=null;const n="maskPosition"in document.body.style?"maskPosition":"webkitMaskPosition"in document.body.style?"webkitMaskPosition":null,d="maskSize"in document.body.style?"maskSize":"webkitMaskSize"in document.body.style?"webkitMaskSize":null,f={opacity(t,e){t.opacity=e},translate(t,e){t.transform+=` translate(${e}px, ${e}px)`},"translate-x"(t,e){t.transform+=` translateX(${e}px)`},"translate-y"(t,e){t.transform+=` translateY(${e}px)`},scale(t,e){t.transform+=` scale(${e})`},"scale-x"(t,e){t.transform+=` scaleX(${e})`},"scale-y"(t,e){t.transform+=` scaleY(${e})`},skew(t,e){t.transform+=` skew(${e}deg, ${e}deg)`},"skew-x"(t,e){t.transform+=` skewX(${e}deg)`},"skew-y"(t,e){t.transform+=` skewY(${e}deg)`},rotate(t,e){t.transform+=` rotate(${e}deg)`},"rotate-x"(t,e){t.transform+=` rotateX(${e}deg)`},"rotate-y"(t,e){t.transform+=` rotateY(${e}deg)`},"hue-rotate"(t,e){t.filter+=` hue-rotate(${e}deg)`},blur(t,e){t.filter+=` blur(${e}px)`}},c=[],p=(t,e)=>{let a=0;for(;t[a][0]<=e&&void 0!==t[a+1];)a+=1;const l=t[a][0],o=void 0===t[a-1]?l:t[a-1][0],s=t[a][1],i=void 0===t[a-1]?s:t[a-1][1];return Math.min(Math.max((e-o)/(l-o),0),1)*(s-i)+i},x=t=>"("===t[0]?Function("return "+t)():parseFloat(t),u=e=>{const l=e.getBoundingClientRect(),o={el:e,originalStyle:{transform:e.style.transform,filter:e.style.filter},transforms:{},isMask:"1"===e.dataset.isMask&&null!==n};if(o.isMask){const t=/(\d+)(px|%)\s+(\d+)(px|%)/,a=getComputedStyle(e.firstElementChild),l=a[n].match(t),s=("auto"===a[d]||"cover"===a[d]?"100% 100%":a[d]).match(t);o.originalStyle.maskPosition=[parseInt(l[1]),l[2],parseInt(l[3]),l[4]],o.originalStyle.maskSize=[parseInt(s[1]),s[2],parseInt(s[3]),s[4]]}if(e.attributes["data-lax-anchor-top"]||(o.top=~~l.top+a.scrollY,e.removeAttribute("data-lax-anchor-top")),e.attributes["data-lax-optimize"]){const a=e.getBoundingClientRect();e.setAttribute("data-lax-opacity",`${-a.height-1} 0, ${-a.height} 1, ${t.h} 1, ${t.h+1} 0`)}for(let a=e.attributes.length-1;-1<a;--a){let s=e.attributes[a],i=s.name;if(0===i.indexOf("data-lax")&&(i=i.replace("data-lax-",""),void 0!==f[i])){let e=s.value.replace(/\s+/g," ").replaceAll("vw",t.w).replaceAll("vh",t.h).replaceAll("elh",l.height).replaceAll("elw",l.width);o.transforms[i]=e.split(",").map((t=>t.trim().split(" ").map(x))).sort(((t,e)=>t[0]-e[0]))}}c.push(o),m(o)},m=t=>{const{originalStyle:e,top:a,transforms:l,el:o}=t,s={transform:e.transform,filter:e.filter},r=a?a-i:i;let c={};for(let t in l)c[t]=p(l[t],r);if(!0===t.isMask)(c["translate-y"]||c["translate-x"])&&(o.firstElementChild.style[n]=(c["translate-x"]?c["translate-x"]+"px":e.maskPosition[0]+"%")+" "+(c["translate-y"]?c["translate-y"]+"px":e.maskPosition[2]+"%")),c.scale&&(o.firstElementChild.style[d]=c.scale*e.maskSize[0]+e.maskSize[1]+" "+c.scale*e.maskSize[2]+e.maskSize[3]);else{for(let t in l)f[t](s,c[t]);if(0===s.opacity)o.style.opacity=0;else for(let t in s)o.style[t]=s[t]}},k=()=>{for(let t=c.length-1;-1<t;--t)m(c[t])};t.on("tf_lax_init",(n=>{void 0===n.length&&(n=[n]);const d=t.h,f=["scale","rotate","blur","opacity","translate-x","translate-y"];let p=e.body.getBoundingClientRect().top;for(let t=n.length-1;t>-1;--t){let e=n[t];if(!e.hasAttribute("data-lax"))continue;e.removeAttribute("data-lax");let a=e.cloneNode(!1),l=getComputedStyle(e),o=a.dataset.boxPosition,s=l.getPropertyValue("z-index");a.className="tf_lax_done "+(e.classList.contains("tf_abs")?"tf_abs":"tf_rel"),e.classList.contains("builder_row_cover")&&(a.dataset.isMask=1),a.removeAttribute("style"),s&&"auto"!==s&&(a.style.zIndex=s),o&&(a.style.transformOrigin=o,e.removeAttribute("data-box-position")),a.hasAttribute("data-lax-opacity")&&(a.className+=" tf_opacity",e.removeAttribute("data-lax-opacity")),a.hasAttribute("data-lax-rotate")&&(a.style.width=l.getPropertyValue("width"),null===r&&(r=new ResizeObserver((t=>{for(let e=t.length-1;e>-1;--e){let a=t[e].target.parentNode,l=parseInt(t[e].contentRect.width);parseInt(a.style.width)!==l&&(a.style.width=l+"px")}})),r.observe(e)));let i=e.getBoundingClientRect().top-p;if(i+130<d){i=i<0?d:~~i,a.dataset.laxAnchorTop=1;for(let t=5;t>-1;--t){let e="data-lax-"+f[t],l=a.getAttribute(e);if(l){l=l.split(",");let t=l[1].split(" ");a.setAttribute(e,t[0]+" "+l[0].split(" ")[1]+","+i+" "+t[1])}}}e.before(a),a.appendChild(e),u(a)}if(!0!==s){s=!0;const e=()=>{if(!0===t.is_builder_active)return;const e=a.scrollY;i!==e&&(i=e,k()),r()},r=()=>{requestAnimationFrame(e)};a.tfOn("scroll",r,{once:!0,passive:!0}),t.on("tfsmartresize",(t=>{let e="desktop";if(t.w<=l.breakpoints.mobile?e="mobile":t.w<=l.breakpoints.tablet[1]?e="tablet":t.w<=l.breakpoints.tablet_landscape[1]&&(e="tablet_landscape"),o!==e){o=e;for(let t=c.length-1;t>-1;--t){let e=c[t],l=e.el,o=getComputedStyle(l.firstChild),s=o.getPropertyValue("z-index"),i=l.style;if(i.zIndex!==s&&(i.zIndex=s),l.hasAttribute("data-lax-rotate")){let t=o.getPropertyValue("width");i.width!==t&&(i.width=t)}void 0!==e.top&&(e.top=~~l.getBoundingClientRect().top+a.scrollY)}}k()}))}}))})(Themify,document,window,themify_vars);